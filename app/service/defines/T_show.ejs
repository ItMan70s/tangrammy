<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
	<title>Tangrammy</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">	
	<link rel="icon" type="image/ico" href="/img/favicon.ico">
	<link rel='stylesheet' href='/css/bootstrap.min.css' />
	<link rel="stylesheet" href="/css/bootstrap-theme.min.css">
	<link rel='stylesheet' href='/css/font-awesome.css' />
	<!--[if IE 7]>
	<link rel="stylesheet" href="/css/font-awesome-ie7.min.css">
	<![endif]-->
	<link rel='stylesheet' href='/css/style.css' />
	<script src="/js/jquery.js"></script>
	<script src="/js/jquery.cookie.js"></script>
	<script src="/js/jquery.hotkeys.js"></script>
	<script src="/js/bootstrap.min.js"></script>
    <script src="/js/bootstrap-richtext.js"></script>
    <script src="/js/bootstrap.file-input.js"></script>
	<script src="/js/tangrammy.js"></script>
</head>
<body>
	<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header active">
			<a name="top" />
          <a class="navbar-brand" href="/tangrammy">Tangrammy</a>
        </div>
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav tops">
            			<li><a href='/' title=''>Home</a></li>
			<li><a href='/todo/list' title=''>Todo</a></li>

          </ul>
          <ul class="nav navbar-nav pull-right">
<% if (request && request.u.user.name)  { %>
        <li class="dropdown" name="userinfo">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown"><%= request.u.user.name %><b class="caret"></b></a>
          <ul class="dropdown-menu">
            <li><a href="<%= request.u.userurl %>">Detail</a></li>
            <li><a href="javascript:changePassword('<%= request.u.userurl.substring(request.u.userurl.indexOf("=") + 1) %>', 'F2')">Change Password</a></li>
            <li><a href="/i/logout">Logout</a></li>
          </ul>
        </li>
<% } else  {%>
            <li><a href="javascript:;" url='/i/login' name="login">Login</a></li>
            <li><a href="javascript:reg()" name="reg">Regester</a></li>
        <li class="dropdown hidden" name="userinfo">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">uname<b class="caret"></b></a>
          <ul class="dropdown-menu">
            <li><a href="userurl">Detail</a></li>
            <li><a href="javascript:changePassword('rid', 'F2')">Change Password</a></li>
            <li><a href="/i/logout">Logout</a></li>
          </ul>
        </li>
<% }%>
          </ul>
        </div><!--/.nav-collapse -->
		<a target="_blank" href="https://github.com/ItMan70s/tangrammy"><img style="position: absolute; top: 0; right: 0; border: 0;" src="/img/forkme.png" alt="Fork me on GitHub"></a>
      </div>
    </div>
	
	<div id="container" class="container">
<!-- start -->
	<a name="Summary"></a>
	<h1><%= title %></h1>
	<div class='left-toolbar'>
	  <ul class="nav navbar-nav">
		<li><a href="#Summary">Summary</a></li>
		<li><a href="#Defines">Defines</a></li>
		<li><a href="#Scripts">Scripts</a></li>
		<li><a href="#Layout">Layout</a></li>
		<li><a href="#Emails">Emails</a></li>
		<li><a href="#Others">Others</a></li>
	  </ul>
	</div>
	<div class='col-md-12'>
	<div class='col-md-12'> <legend class="">Summary
		<a class='btn-xs btn btn-success' name="onemsg" href="javascript:;" url="/T/create?Rid=<%= data["Rid"] %>">Build Application</a></legend>
	<div class='col-md-12'>
		<div class='col-md-3'><div><label>Title*</label><div class='controls'><div class='panel-body'><%= data["Title"] %></div></div></div></div>
		<div class='col-md-3'><div><label>URL</label><div class='controls'><div class='panel-body'><%= data["URL"] %></div></div></div></div>
		<div class='col-md-2 inline'><div><label>Tid*</label><div class='controls'><div class='panel-body'><%= data["Tid"] %></div></div></div></div>
		<div class='col-md-2 inline'><div><label>Vid*</label><div class='controls'><div class='panel-body'><%= data["Vid"] %></div></div></div></div>
		<div class='col-md-2 inline'><div><label>Rid*</label><div class='controls'><div class='panel-body'><%= data["Rid"] %></div></div></div></div>
	</div>
	<div class='col-md-12'>
		<div class='col-md-12'><div><label>Description*</label><div class='controls'><div class='panel-body'><%= data["Description"] %></div></div></div></div>
		<div class='col-md-12'><div><label>Header in list page</label><div class='controls'><div class='panel-body'><%= data["Header"] %></div></div></div></div>
		
<a name="Defines"></a>	
		<div class='col-md-12'><div><label>Footer in list page</label><div class='controls'><div class='panel-body'><%= data["Footer"] %></div></div></div></div>
	</div>	
	</div>
	<div class='col-md-12'> <legend class="">Defines</legend>
		<div class='col-md-12'><div><label>Fields*</label><div class='controls'><div class='panel-body'><%= data["Fields"] %></div></div></div></div>
		<div class='col-md-12'><div><label>Keys</label><div class='controls'><div class='panel-body'><%= data["Keys"] %></div></div></div></div>
		<div class='col-md-12'><div><label>Condition*</label><div class='controls'><div class='panel-body'><%= data["Condition"] %></div></div></div></div>
		<div class='col-md-12'><div><label>Advance Condition</label><div class='controls'><div class='panel-body'><%= (data["AdvanceCondition"] || "") %></div></div></div></div>
		
		<div class="col-md-12"><div><label class='control-label title-label'>Disable Operations</label><div class='form-show' readonly=true>
<div class="min-h20">
<%= data["NoAction"] || "" %>
			</div></div></div></div>
			
		<div class='col-md-12'><div><label>New Data*</label><div class='controls'><div class='panel-body'><%= data["New"] %></div></div></div></div>
		<div class='col-md-12'><div><label>Copy & Create Data*</label><div class='controls'><div class='panel-body'><%= data["Copy"] %></div></div></div></div>
		<div class='col-md-12'><div><label>Update Data*</label><div class='controls'><div class='panel-body'><%= data["Edit"] %></div></div></div></div>
		<div class='col-md-12'><div><label>Show Data*</label><div class='controls'><div class='panel-body'><%= data["Show"] %></div></div></div></div>
		
		<a name="Scripts"></a>
		<div class='col-md-12'><div><label>Delete Data*</label><div class='controls'><div class='panel-body'><%= data["Remove"] %></div></div></div></div>
	</div>
	<div class='col-md-12'><legend class="">Scripts</legend>
		<div class='col-md-12'><div><label>JS before New/Copy</label><div class='controls'><div class='panel-body'><%= data["JSNew"] %></div></div></div></div>
		<div class='col-md-12'><div><label>JS before Edit</label><div class='controls'><div class='panel-body'><%= data["JSEdit"] %></div></div></div></div>
		<div class='col-md-12'><div><label>JS before Show Dat</label><div class='controls'><div class='panel-body'><%= data["JSShow"] %></div></div></div></div>
		<a name="Layout"></a>
		<div class='col-md-12'><div><label>JS before Save Data</label><div class='controls'><div class='panel-body'><%= data["JSSave"] %></div></div></div></div>
	</div>
	<div class='col-md-12'><legend class="">Layout</legend>
		<div class='col-md-12'><div><label>New</label><div class='controls'><div class='panel-body'><%= data["LNew"] %></div></div></div></div>
		<div class='col-md-12'><div><label>Edit</label><div class='controls'><div class='panel-body'><%= data["LEdit"] %></div></div></div></div>
		<div class='col-md-12'><div><label>Show</label><div class='controls'><div class='panel-body'><%= data["LShow"] %></div></div></div></div>
		<div class='col-md-12'><div><label>List</label><div class='controls'><div class='panel-body'><%= data["LList"] %></div></div></div></div>
		
		<a name="Emails"></a>
		<div class='col-md-12'><div><label>Filter</label><div class='controls'><div class='panel-body'><%= data["Filter"] %></div></div></div></div>
	</div>
	<div class='col-md-12'><legend class="">Emails</legend>
		<div class='col-md-12'><div><label>To</label><div class='controls'><% var val = data["EmailTo"] || "";  val = "," + val.toString() + ",";%>
			<div class='panel-body'><% if (val.contains( "," + "me" + ",")) { %> <span class='pull-left input-small'>Owner</span> <% } %><% if (val.contains( "," + "F0" + ",")) { %> <span class='pull-left input-small'>F0</span> <% } %><% if (val.contains( "," + "F1" + ",")) { %> <span class='pull-left input-small'>F1</span> <% } %>
			</div></div></div></div>
		<div class='col-md-12'><div><label>Cc</label><div class='controls'><div class='panel-body'><%= data["EmailCc"] %></div></div></div></div>
		<div class='col-md-12'><div><label>Title</label><div class='controls'><div class='panel-body'><%= data["EmailTitle"] %></div></div></div></div>
	</div>	
		<a name="Others"></a>
	<div class='col-md-12'><legend class="">Others</legend>
		<div class='col-md-12'><div><label>Order By</label>
		<div class='panel-body'>
		<% var oby = (data["OrderBy"] + ",,").split(","); var order = (data["Order"] + ",,").split(",");
		for (var i = 0; i < oby.length && i < 3; i++) {
			for (var fid in fields) { 
				if(oby[i] == fid) { %>
				<span class='pull-left input-medium'><%= fields[fid] + ": " + ("-1" != order[i]? "Ascending" : "Descending") %></span>
			<% } 
			}
		} %>
		</div>
		</div></div>
		<div class='col-md-12'><div><label>Group By Above first order item</label><div class='controls'><% var val = data["Group"] || "";  val = "," + val.toString() + ",";%>
			<div class='panel-body'><% if (val.contains( "," + "on" + ",")) { %> <span class='pull-left input-small'>Yes</span> <% } else { %> <span class='pull-left input-small'>No</span> <% } %>
			</div></div></div></div>
		<div class='col-md-12'><div><label>History in Edit page</label><div class='controls'><% var val = data["History"] || "";  val = "," + val.toString() + ",";%>
			<div class='panel-body'><% if (val.contains( "," + "on" + ",")) { %> <span class='pull-left input-small'>Show</span> <% } %><% if (val.contains( "," + "off" + ",")) { %> <span class='pull-left input-small'>Hide</span> <% } %>
			</div></div></div></div>
		
		<div class='col-md-12'><div><label>Visible in Home page</label><div class='controls'><% var val = data["Visible"] || "";  val = "," + val.toString() + ",";%>
			<div class='panel-body'><% if (val.contains( "," + "on" + ",")) { %> <span class='pull-left input-small'>Yes</span> <% } %><% if (val.contains( "," + "off" + ",")) { %> <span class='pull-left input-small'>No</span> <% } %>
			</div></div></div></div>
		<div class='col-md-12'><div><label>Enable this view</label><div class='controls'><% var val = data["Enable"] || "";  val = "," + val.toString() + ",";%>
			<div class='panel-body'><% if (val.contains( "," + "on" + ",")) { %> <span class='pull-left input-small'>Yes</span> <% } %><% if (val.contains( "," + "off" + ",")) { %> <span class='pull-left input-small'>No</span> <% } %>
			</div></div></div></div>
		<div class='col-md-12'><div><label>Help Link</label><div class='controls'><div class='panel-body'><%= data["Help"] %></div></div></div></div>
	</div>
	<div class='col-md-12 error'>
	 <% if ((code || 0) != 200) { %>
	 <label><%= message %></label>
	 <% } %>
	</div>
	<div class="container section-action">
	<div class='panel-footer col-md-12'>
		<a class='btn btn-primary col-md-2' href='/tangrammy'>OK</a>
		<a class='btn btn-default col-md-1' href="/T/update?Rid=<%= data["Rid"] %>"><img class="icon15" src="/img/edit.png" title="Edit">Edit</a>
		<a name="onemsg" href="javascript:;" url="/T/create?Rid=<%= data["Rid"] %>">Build Application</a>
	</div>
	</div>
	
	</div>
	
<!-- end -->

	<div class="row"></div>
	<div class="go-top">
	<div class="btn-group">
		<a href="#" class="btn btn-default hidden"></a>
		<a href="javascript:;" id="scrollTop" class="btn btn-default glyphicon glyphicon-open"></a>
		<a href="javascript:;" id="scrollBack" class="btn btn-default glyphicon glyphicon-chevron-up"></a>
		<a href="javascript:;" id="scrollNext" class="btn btn-default glyphicon glyphicon-chevron-down"></a>
		<a href="#bottom" class="btn btn-default glyphicon glyphicon-save"></a>
		<a href="#" class="btn btn-default hidden"></a>
	</div>
	</div>
<script>
	<%- (("" || warning).length > 0) ?  'var warning = \'' + warning.replace(/'/g, "\\'") + '\'; \n  setTimeout("warn(warning)", 2);' : '' %>
	
</script>
	<div id="ModalView">
	</div>
<div class="modal" id="ConfirmModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="glyphicon glyphicon-remove list-item win-close" title="Close" close="modal"></button>
		<h3 class="modal-title">Modal title</h3>
      </div>
      <div class="modal-body"></div>
      <div class="modal-footer">
        <a href="#" class="btn  btn-success confirm-btn" data-dismiss="modal">OK</a>
        <a href="#" class="btn confirm-cancelbtn">Cancel</a>
      </div>
    </div>
  </div>
</div>
	<a name="bottom" > </a>
	<hr />
	<footer>
	<div class="col-md-12 form-group small">
		<ul class="pager nomargin pull-left">
		<li><label>Dependencies：</label></li>
		<li><a target="_blank" href="https://nodejs.org/">NodeJS</a></li>
		<li><a target="_blank" href="http://www.mongodb.org/">mongoDB</a></li>
		<li><a target="_blank" href="http://twitter.github.com/bootstrap/">Bootstrap</a></li>
		<li><a target="_blank" href="http://jquery.com/">jQuery</a></li>
		<li><a target="_blank" href="https://github.com/">GitHub</a></li>
		<li><a target="_blank" href="https://github.com/ItMan70s/bootstrap3-richtext">bootstrap3-richtext</a></li>
		</ul>
	</div>
	<div class="col-md-12 right">
		Created by <a href="https://github.com/ItMan70s/Tangrammy/">Tangrammy 0.2.0</a> at 2014.
	</div>
	</footer>
	</div>
</body>
</html>

